<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #map {
            width: 600px;
            height: 400px;

            & > iframe {
                width: 100%;
                height: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="map">
        <iframe id="mapFrame" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>


    <script>
        function gotPosition(position) {
            console.log(position);
            let latitude = position.coords.latitude;
            let longitude = position.coords.longitude;

            latitude = 22.8515660074053;
            longitude = 88.31567676779352;
            initMap(latitude,longitude);
        }

        function showError(error) {
            console.log(error);
        }

        function initMap(latitude,longitude) {
            // const location = { lat: position.coords.latitude, lng: position.coords.longitude };
            // Generate the embed URL with the dynamic values
            let embedUrl = `https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d14731.276855633576!2d${longitude}!3d${latitude}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sin!4v1729584284163!5m2!1sen!2sin`;

            // Set the generated URL to the iframe src
            document.getElementById('mapFrame').src = embedUrl;
        }
        navigator.geolocation.getCurrentPosition(gotPosition, showError);
    </script>
</body>
</html>